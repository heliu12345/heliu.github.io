<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="汇编语言语法笔记-Assembly计算机CPU常用寄存器说明(16位CPU)通用寄存器


寄存器
说明(常使用类似ah/al表示高低位)



ax
存放低位被除数


bx
用[bx]表示address


cx
loop语句的判断次数


dx
存放高位被除数


si
存放类似bx的数据

">
    

    <!--Author-->
    
        <meta name="author" content="John Doe">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="汇编语言语法笔记-Assembly"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="hello-world"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>汇编语言语法笔记-Assembly - hello-world</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


<link rel="alternate" href="/atom.xml" title="hello-world" type="application/atom+xml">
</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2019/10/11/dshc/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0(Assembly%20note)/">
                汇编语言语法笔记-Assembly
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-10-11</span>
            
            
            
                <span class="category">
                    <a href="/categories/语言编程/">语言编程</a>
                </span>
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <h1 id="汇编语言语法笔记-Assembly"><a href="#汇编语言语法笔记-Assembly" class="headerlink" title="汇编语言语法笔记-Assembly"></a>汇编语言语法笔记-Assembly</h1><h2 id="计算机CPU常用寄存器说明-16位CPU"><a href="#计算机CPU常用寄存器说明-16位CPU" class="headerlink" title="计算机CPU常用寄存器说明(16位CPU)"></a>计算机CPU常用寄存器说明(16位CPU)</h2><h3 id="通用寄存器"><a href="#通用寄存器" class="headerlink" title="通用寄存器"></a>通用寄存器</h3><table>
<thead>
<tr>
<th>寄存器</th>
<th>说明(常使用类似ah/al表示高低位)</th>
</tr>
</thead>
<tbody><tr>
<td>ax</td>
<td>存放低位被除数</td>
</tr>
<tr>
<td>bx</td>
<td>用[bx]表示address</td>
</tr>
<tr>
<td>cx</td>
<td>loop语句的判断次数</td>
</tr>
<tr>
<td>dx</td>
<td>存放高位被除数</td>
</tr>
<tr>
<td>si</td>
<td>存放类似bx的数据</td>
</tr>
<tr>
<td>di</td>
<td>存放类似bx的数据</td>
</tr>
<tr>
<td>sp</td>
<td>存放栈的偏移地址</td>
</tr>
<tr>
<td>bp</td>
<td>无指明的偏移地址默认ss<br>[bp]= ss<em>16+bp<br>ds:[bp] = ds</em>16+bp</td>
</tr>
</tbody></table>
<h3 id="段寄存器"><a href="#段寄存器" class="headerlink" title="段寄存器"></a>段寄存器</h3><table>
<thead>
<tr>
<th>寄存器</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>ss</td>
<td>存放栈内存段地址</td>
</tr>
<tr>
<td>cs</td>
<td>存放命令的段地址</td>
</tr>
<tr>
<td>ds</td>
<td>存放数据段地址</td>
</tr>
<tr>
<td>es</td>
<td>存放类似ds的数据</td>
</tr>
</tbody></table>
<h3 id="标志位寄存器"><a href="#标志位寄存器" class="headerlink" title="标志位寄存器"></a>标志位寄存器</h3><table>
<thead>
<tr>
<th>寄存器位</th>
<th>说明(当逻辑计算或算数计算后)</th>
</tr>
</thead>
<tbody><tr>
<td>ZF-零标志位</td>
<td>指令执行后判断是否为0,是位1,否为0</td>
</tr>
<tr>
<td>PF-奇偶标志位</td>
<td>指令执行后计算2进制中1的个数,偶数1,奇数0</td>
</tr>
<tr>
<td>SF-符号标志位</td>
<td>指令执行后记录符号,负数1,正数0</td>
</tr>
<tr>
<td>CF-进位标志位</td>
<td>指令执行后会改变,表示更高位(在无符号运算中)</td>
</tr>
<tr>
<td>OF-溢出标志位</td>
<td>指令执行后,溢出1,无溢出0(在有符号运算中)</td>
</tr>
<tr>
<td>DF-方向标志位</td>
<td>DF=0递增,DF=1递减,用于串传送指令</td>
</tr>
<tr>
<td>TF-单步中断</td>
<td>TF=1实行单步中断</td>
</tr>
<tr>
<td>IF-屏蔽中断</td>
<td>IF=0不响应可屏蔽中断</td>
</tr>
</tbody></table>
<h2 id="寄存器操作语法"><a href="#寄存器操作语法" class="headerlink" title="寄存器操作语法"></a>寄存器操作语法</h2><h3 id="寄存器基本语法"><a href="#寄存器基本语法" class="headerlink" title="寄存器基本语法"></a>寄存器基本语法</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>mov</td>
<td>转移/赋值</td>
</tr>
<tr>
<td>add</td>
<td>加法</td>
</tr>
<tr>
<td>sub</td>
<td>相减</td>
</tr>
<tr>
<td>inc</td>
<td>自加1</td>
</tr>
<tr>
<td>dec</td>
<td>自减1</td>
</tr>
<tr>
<td>cld</td>
<td>设置DF为0</td>
</tr>
<tr>
<td>std</td>
<td>设置DF为1</td>
</tr>
<tr>
<td>cli</td>
<td>设置IF为0</td>
</tr>
<tr>
<td>sti</td>
<td>设置IF为1</td>
</tr>
<tr>
<td>and</td>
<td>按位与,替换为0</td>
</tr>
<tr>
<td>or</td>
<td>按位或,替换为1</td>
</tr>
<tr>
<td>push</td>
<td>入栈—sp-2 -&gt; 处理数据</td>
</tr>
<tr>
<td>pop</td>
<td>出栈—处理数据 -&gt; sp+2</td>
</tr>
<tr>
<td>loop</td>
<td>循环—cx自减1 -&gt; 判断cx         是否0</td>
</tr>
<tr>
<td>mul</td>
<td>乘法—mul reg/内存单元<br>8位:AX=AL<em>XX<br>16位:DX+AX=AX</em>XX</td>
</tr>
<tr>
<td>div</td>
<td>除法—div reg/内存单元<br>被除是32位：DX*16+AH<br>被除是16位：AX<br>16位计算：商AX,余数DX<br>8 位计算：商AL,余数AH</td>
</tr>
</tbody></table>
<h3 id="寄存器计算、端口操作语法"><a href="#寄存器计算、端口操作语法" class="headerlink" title="寄存器计算、端口操作语法"></a>寄存器计算、端口操作语法</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>adc</td>
<td>带进位加法指令<br>adc ah,bh =&gt; ah=ah+bh+CF<br>add ax,bx =&gt; add al,bl;adc ah,bh</td>
</tr>
<tr>
<td>sbb</td>
<td>带借位减法指令<br>sbb ah,bh =&gt; ah=ah-bh-CF</td>
</tr>
<tr>
<td>cmp</td>
<td>比较指令,相当于相减,但不返回结果<br>cmp 5,2  根据3来影响标志位<br>配合je,jne,jb,jnb,ja,jna使用</td>
</tr>
<tr>
<td>movsb</td>
<td>ds:si赋值到es:di,然后si,di增减1(DF决定增减)</td>
</tr>
<tr>
<td>movsw</td>
<td>ds:si赋值到es:di,然后si,di增减2(DF决定增减)</td>
</tr>
<tr>
<td>rep</td>
<td>重复movsb/movsw次数,循环次数储存在cx</td>
</tr>
<tr>
<td>pushf</td>
<td>标志寄存器入栈</td>
</tr>
<tr>
<td>popf</td>
<td>标志寄存器出栈</td>
</tr>
<tr>
<td>iret</td>
<td>相当于pop ip,pop cs,popf</td>
</tr>
<tr>
<td>in</td>
<td>读端口指令 in al,20h 8位用al</td>
</tr>
<tr>
<td>out</td>
<td>写端口指令 out ax,10h 16位用ax</td>
</tr>
<tr>
<td>shl</td>
<td>逻辑左移,最后移出一位在CF中</td>
</tr>
<tr>
<td>shr</td>
<td>逻辑右移,shr al,1(次数 大于1次要这样)<br>一般的mov cl,3;shl al,cl</td>
</tr>
</tbody></table>
<h3 id="判断跳转语句"><a href="#判断跳转语句" class="headerlink" title="判断跳转语句"></a>判断跳转语句</h3><table>
<thead>
<tr>
<th>命令</th>
<th>条件</th>
<th>标志位状态</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>je</td>
<td>相等转</td>
<td>ZF=1</td>
<td>AX=BX 相同</td>
</tr>
<tr>
<td>jne</td>
<td>不等转</td>
<td>ZF=0</td>
<td>AX=!BX 相同</td>
</tr>
<tr>
<td>jb</td>
<td>低于转</td>
<td>CF=1</td>
<td>AX&lt;BX SF=1,OF=0</td>
</tr>
<tr>
<td>jnb</td>
<td>不低转</td>
<td>CF=0</td>
<td>AX&gt;=BX SF=1,OF=1</td>
</tr>
<tr>
<td>ja</td>
<td>高于转</td>
<td>CF=0且ZF=0</td>
<td>AX&gt;BX</td>
</tr>
<tr>
<td>jna</td>
<td>不高转</td>
<td>CF=1或ZF=1</td>
<td>AX&lt;=BX</td>
</tr>
</tbody></table>
<h2 id="汇编编程"><a href="#汇编编程" class="headerlink" title="汇编编程"></a>汇编编程</h2><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li>注意push,pop的原理 合理设置ss,sp</li>
<li>程序结束mov ax,4c00h;int 21h</li>
<li>在编译器里数据不能字母开头 例:<code>mov ax,0fffh</code></li>
<li>物理地址=段地址*16+偏移地址</li>
<li>中断等级：除法错,溢出中断,软件中断;不可屏蔽中断;可屏蔽中断;单步中断</li>
<li>中断过程：    <ol>
<li>得到中断类型码(单步中断时得到1)</li>
<li>标志寄存器入栈</li>
<li>设置TF=0,IF=0</li>
<li>cs入栈</li>
<li>ip入栈</li>
<li>设置ip为类型码乘4的值</li>
<li>设置cs为类型码乘4+2的值</li>
</ol>
</li>
<li>中断处理程序：保存用到的寄存-&gt;处理中断-&gt;恢复寄存器-&gt;iret</li>
</ul>
<h3 id="Windows在CMD中模拟16位系统"><a href="#Windows在CMD中模拟16位系统" class="headerlink" title="Windows在CMD中模拟16位系统"></a>Windows在CMD中模拟16位系统</h3><ul>
<li>debug模式，在命令窗口输入并回车<ul>
<li>R-查看寄存器</li>
<li>D-查看段内存</li>
<li>U-用汇编显示内容</li>
<li>E-用机器码写入内存</li>
<li>A-用汇编写入内存</li>
<li>T-执行一条命令</li>
</ul>
</li>
</ul>
<h3 id="汇编编程语句"><a href="#汇编编程语句" class="headerlink" title="汇编编程语句"></a>汇编编程语句</h3><h4 id="定义字符"><a href="#定义字符" class="headerlink" title="定义字符"></a>定义字符</h4><ul>
<li>db,dw,dd为定义数据，16位/32位/64位，如：<code>db &#39;uukk&#39;</code>将字符的ascii码储存</li>
<li>dup为重复定义，db 3 dup (0,1) = db 0,1,0,1,0,1</li>
<li>offset获取标号的偏移地址</li>
<li>byte/word/dword ptr数据长度</li>
</ul>
<h4 id="程序结构"><a href="#程序结构" class="headerlink" title="程序结构"></a>程序结构</h4><ul>
<li>初始：<code>assume cs:XX ss:XX ds:XX</code></li>
<li>开始：<code>XXXX</code></li>
<li>结束：<code>end XXXX</code></li>
<li>写段：<code>XXX segment --- XXX ends</code></li>
<li>循环语句：<code>XXX: --- loop XXX</code></li>
</ul>
<h4 id="语句解释"><a href="#语句解释" class="headerlink" title="语句解释"></a>语句解释</h4><table>
<thead>
<tr>
<th>语句</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>jmp short XXX</td>
<td>偏移地址8位转移</td>
</tr>
<tr>
<td>jmp near ptr XXX</td>
<td>偏移地址16位转移</td>
</tr>
<tr>
<td>jmp    far ptr XXX</td>
<td>段+偏移地址转移</td>
</tr>
<tr>
<td>jmp 16位寄存器</td>
<td>偏移地址转移</td>
</tr>
<tr>
<td>jmp word ptr 内存单元</td>
<td>偏移地址16位转移</td>
</tr>
<tr>
<td>jmp dword ptr 内存单元</td>
<td>段+偏移地址转移</td>
</tr>
<tr>
<td>jcxz XXX</td>
<td>偏移地址8位转移,cx=0跳转,否则向下</td>
</tr>
<tr>
<td>ret</td>
<td>相当于pop IP</td>
</tr>
<tr>
<td>retf</td>
<td>相当于pop IP,pop CS</td>
</tr>
<tr>
<td>call XXX</td>
<td>相当于push IP,jmp near ptr XXX</td>
</tr>
<tr>
<td>call far ptr XXX</td>
<td>相当于push CS,push IP,jmp far ptr XXX</td>
</tr>
<tr>
<td>call 16位寄存器</td>
<td>push IP,jmp 16位寄存器</td>
</tr>
<tr>
<td>call word ptr 内存单元</td>
<td>push IP,jmp word ptr 内存单元</td>
</tr>
<tr>
<td>call dword ptr 内存单元</td>
<td>push CS,push IP,jmp dword ptr 内存单元</td>
</tr>
</tbody></table>

    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/Assembly/">#Assembly</a> <a href="/tags/Hardware/">#Hardware</a>
        </div>
    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>


</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a href="https://github.com/klugjo" target="_blank" rel="noopener">Jonathan Klughertz</a>. The source code is available on Github. Create Websites. Make Magic.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2019/12/02/Java%E5%9F%BA%E7%A1%80-%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%EF%BC%88Basic)/">Java基础-语言基础（Basic)</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/12/02/dshc/Web%E5%9F%BA%E7%A1%80-jQuery%E8%AF%AD%E8%A8%80/">Web基础-jQuery语言</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/11/29/dshc/Web%E5%9F%BA%E7%A1%80-JavaScript%E8%AF%AD%E8%A8%80/">Web基础-JavaScript语言</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/11/28/dshc/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E7%AC%94%E8%AE%B0/">线性代数笔记</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/Java/">Java</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/">生活记录</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95/">结构算法</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/%E5%B7%A5%E5%85%B7%E7%8E%AF%E5%A2%83/">工具环境</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/klugjo/hexo-theme-alpha-dust" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/?lang=en" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.instagram.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://dribbble.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://plus.google.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-google-plus"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.behance.net/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://500px.com/" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:test@example.com" target="_blank" rel="noopener">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/" target="_blank" rel="noopener">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>